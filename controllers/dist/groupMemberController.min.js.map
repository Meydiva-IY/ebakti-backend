{"version":3,"sources":["groupMemberController.js"],"names":["db","require","groupMemberController","add","req","res","_req$body","group_id","user_id","regeneratorRuntime","async","_context","prev","next","body","awrap","query","status","json","message","t0","error","stop","getByGroup","params","groupId","members","_context2","remove","_context3","userId","module","exports"],"mappings":"mnBAAA,IAAMA,GAAKC,QAAQ,gBAEbC,sBAAwB,CAC5BC,IAAK,SAAOC,EAAKC,GAAZ,IAAAC,EAAAC,EAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAAF,EAAAC,KAAA,EAAAN,EAE6BF,EAAIU,KAA1BP,EAFPD,EAEOC,SAAUC,EAFjBF,EAEiBE,QAFjBG,EAAAE,KAAA,EAAAJ,mBAAAM,MAGKf,GAAGgB,MAAM,6DAA8D,CAACT,EAAUC,KAHvF,KAAA,EAIDH,EAAIY,OAAO,KAAKC,KAAK,CAAEC,QAAS,iBAJ/BR,EAAAE,KAAA,GAAA,MAAA,KAAA,EAAAF,EAAAC,KAAA,EAAAD,EAAAS,GAAAT,EAAA,MAAA,GAMDN,EAAIY,OAAO,KAAKC,KAAK,CAAEG,MAAOV,EAAAS,GAAMD,UANnC,KAAA,GAAA,IAAA,MAAA,OAAAR,EAAAW,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,MADPC,WAAMrB,SAAAA,EAAqBG,GAArBH,IAAAA,EAAAA,EAAAA,EAAAA,OAAAA,mBAAAA,MAAAA,SAAAA,GAAAA,OAAAA,OAAAA,EAAAA,KAAAA,EAAAA,MAAAA,KAAAA,EAAAA,OAAAA,EAAAA,KAAAA,EAAAA,EAAAA,KAAAA,EAAAA,mBAAAA,MACCF,GAAAgB,MAAA,kHAAA,CAAAZ,EAAAoB,OAAAC,WADDvB,KAAAA,EAAAA,EAAAA,EAAAA,KAAAA,EAAAA,eAAAA,EAAAA,GACCwB,EADDxB,EAAAA,GACCG,EAAAa,KAAAQ,GADDxB,EAAAA,KAAAA,GAAAA,MAAAA,KAAAA,EAAAA,EAAAA,KAAAA,EAAAA,EAAAA,GAAAA,EAAAA,MAAAA,GACCG,EAAAY,OAAA,KAAAC,KAAA,CAAAG,MAAAM,EAAAP,GAAAD,UADDjB,KAAAA,GAAAA,IAAAA,MAAAA,OAAAA,EAAAA,SAAAA,KAAAA,KAAAA,CAAAA,CAAAA,EAAAA,MACC0B,OAAA,SAAAxB,EAAAC,GAAA,OAAAI,mBAAAC,MAAA,SAAAmB,GAAA,OAAA,OAAAA,EAAAjB,KAAAiB,EAAAhB,MAAA,KAAA,EAAA,OAAAgB,EAAAjB,KAAA,EAAAiB,EAAAhB,KAAA,EAAAJ,mBAAAM,MAIsBI,GAAAA,MAAF,8DAJpB,CAAAf,EAAAoB,OAAAC,QAAArB,EAAAoB,OAAAM,UAAA,KAAA,EA4BDzB,EAAIa,KAAK,CAAEC,QAAS,mBA5BnBU,EAAAhB,KAAA,EAAA,MAAA,KAAA,EAAAgB,EAAAjB,KAAA,EAAAiB,EAAAT,GAAAS,EAAA,MAAA,GAAAxB,EAAAY,OAAA,KAAAC,KAAA,CAAAG,MAAAQ,EAAAT,GAAAD,UAAA,KAAA,EAAA,IAAA,MAAA,OAAAU,EAAAP,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,OAmCPS,OAAOC,QAAU,CAAE9B,sBAAAA","file":"groupMemberController.min.js","sourcesContent":["const db = require('../config/db');\r\n\r\nconst groupMemberController = {\r\n  add: async (req, res) => {\r\n    try {\r\n      const { group_id, user_id } = req.body;\r\n      await db.query('INSERT INTO group_member (group_id, user_id) VALUES (?, ?)', [group_id, user_id]);\r\n      res.status(201).json({ message: 'Member added' });\r\n    } catch (error) {\r\n      res.status(500).json({ error: error.message });\r\n    }\r\n  },\r\n  getByGroup: async (req, res) => {\r\n    try {\r\n      const [members] = await db.query(\r\n        `SELECT u.* FROM user u\r\n         JOIN group_member gm ON u.user_id = gm.user_id\r\n         WHERE gm.group_id = ?`,\r\n        [req.params.groupId]\r\n      );\r\n      res.json(members);\r\n    } catch (error) {\r\n      res.status(500).json({ error: error.message });\r\n    }\r\n  },\r\n  remove: async (req, res) => {\r\n    try {\r\n      await db.query(\r\n        'DELETE FROM group_member WHERE group_id = ? AND user_id = ?',\r\n        [req.params.groupId, req.params.userId]\r\n      );\r\n      res.json({ message: 'Member removed' });\r\n    } catch (error) {\r\n      res.status(500).json({ error: error.message });\r\n    }\r\n  }\r\n};\r\n\r\nmodule.exports = { groupMemberController }; // Ensure this line is present"]}