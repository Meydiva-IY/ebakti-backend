{"version":3,"sources":["medicalHistory.js"],"names":["express","require","router","Router","get","req","res","db","query","err","results","json","post","_req$body","body","user_id","disease_name","description","result","insertId","put","status","_req$body2","id","message","sql"],"mappings":"aAAA,IAAMA,QAAUC,QAAQ,WAClBC,OAASF,QAAQG,SADjBH,GAAOC,QAAGA,gBAKhBC,OAAOE,IAAI,IAAK,SAACC,EAAKC,GAHhBC,GAAEC,MAAGP,+BAEX,SAAAQ,EAAAC,GAGQ,GAAID,EAAK,MAAMA,EACfH,EAAIK,KAAKD,OACZR,OAHDU,KAAA,IAAA,SAAAP,EAAAC,GAAA,IAAAO,EAMJR,EAAAS,KAAAC,EANIF,EAMJE,QAAAC,EANIH,EAMJG,aAAAC,EANIJ,EAMJI,YACAf,GAAOU,MAES,mFAFC,CAAAG,EAACV,EAAaY,GAAA,SAAAR,EAAAS,GAAA,GAAAT,EAAA,MACwBK,EAA3CC,EAAAA,OADmB,KAAAJ,KACnBI,CAAAA,GADmBG,EAAAC,SAAAJ,QAAAA,EAAAC,aAAAA,EAAAC,YAAAA,QAIvBf,OAAAkB,IAAA,OAAeX,SAAAA,EAANH,GAAA,IACLe,EAAJhB,EAAgBM,OAAZU,GADKC,EACYjB,EAAAS,KAAMI,EADlBI,EACkBJ,QAAOC,EADzBG,EACyBH,aAAbF,EADZK,EACYL,YAAgCD,GAAAA,MAATD,wGAAqB,CAAAA,EAAZC,EAAhCC,EAAAM,GAAA,SAAAd,EAAAS,GAA8CD,GAAAA,EAAW,MAAXA,EAAnEX,EAAAK,KAAA,CAAAa,QAAA,6CAKyBtB,OACrBqB,OAAU,OAAVA,SAAAA,EADqBjB,GAAA,IAAAiB,EAEkBlB,EAAIS,OAFtBS,GAAAhB,GAEZS,MAFY,0DAAA,CAAAO,GAAA,SAAAd,EAAAS,GAEED,GAAAA,EAFF,MAAAR,EAGvBgB,EAAMd,KAAA,CAAAa,QAAA,6CAGGA,OAAAA,QAAStB","file":"medicalHistory.min.js","sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst db = require('../config/db');\r\n\r\n// Get all medical histories\r\nrouter.get('/', (req, res) => {\r\n    db.query('SELECT * FROM MedicalHistory', (err, results) => {\r\n        if (err) throw err;\r\n        res.json(results);\r\n    });\r\n});\r\n\r\n// Create a new medical history record\r\nrouter.post('/', (req, res) => {\r\n    const { user_id, disease_name, description } = req.body;\r\n    const sql = 'INSERT INTO MedicalHistory (user_id, disease_name, description) VALUES (?, ?, ?)';\r\n    db.query(sql, [user_id, disease_name, description], (err, result) => {\r\n        if (err) throw err;\r\n        res.status(201).json({ id: result.insertId, user_id, disease_name, description });\r\n    });\r\n});\r\n\r\n// Update a medical history record\r\nrouter.put('/:id', (req, res) => {\r\n    const { id } = req.params;\r\n    const { user_id, disease_name, description } = req.body;\r\n    const sql = 'UPDATE MedicalHistory SET user_id = ?, disease_name = ?, description = ? WHERE medical_history_id = ?';\r\n    db.query(sql, [user_id, disease_name, description, id], (err, result) => {\r\n        if (err) throw err;\r\n        res.json({ message: 'Medical history updated successfully' });\r\n    });\r\n});\r\n\r\n// Delete a medical history record\r\nrouter.delete('/:id', (req, res) => {\r\n    const { id } = req.params;\r\n    const sql = 'DELETE FROM MedicalHistory WHERE medical_history_id = ?';\r\n    db.query(sql, [id], (err, result) => {\r\n        if (err) throw err;\r\n        res.json({ message: 'Medical history deleted successfully' });\r\n    });\r\n});\r\n\r\nmodule.exports = router;"]}