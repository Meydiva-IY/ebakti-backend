"use strict";var express=require("express"),router=express.Router(),db=require("../config/db");router.get("/",function(e,o){db.query("SELECT * FROM Period",function(e,r){if(e)return console.error(e),o.status(500).json({message:"Internal Server Error"});o.json(r)})}),router.post("/",function(e,o){var r=e.body,t=r.period_name,s=r.start_date,d=r.end_date;db.query("INSERT INTO Period (period_name, start_date, end_date) VALUES (?, ?, ?)",[t,s,d],function(e,r){if(e)return console.error(e),o.status(400).json({message:"Error creating period"});o.status(201).json({id:r.insertId,period_name:t,start_date:s,end_date:d})})}),router.put("/:id",function(e,o){var r=e.params.id,t=e.body,s=t.period_name,d=t.start_date,n=t.end_date;db.query("UPDATE Period SET period_name = ?, start_date = ?, end_date = ? WHERE period_id = ?",[s,d,n,r],function(e,r){return e?(console.error(e),o.status(400).json({message:"Error updating period"})):0===r.affectedRows?o.status(404).json({message:"Period not found"}):void o.json({message:"Period updated successfully"})})}),router.delete("/:id",function(e,o){var r=e.params.id;db.query("DELETE FROM Period WHERE period_id = ?",[r],function(e,r){return e?(console.error(e),o.status(400).json({message:"Error deleting period"})):0===r.affectedRows?o.status(404).json({message:"Period not found"}):void o.json({message:"Period deleted successfully"})})}),module.exports=router;
//# sourceMappingURL=period.min.js.map
