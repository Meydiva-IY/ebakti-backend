"use strict";var express=require("express"),router=express.Router(),db=require("../config/db");router.get("/",function(e,r){db.query("SELECT * FROM Attendance",function(e,t){if(e)throw e;r.json(t)})}),router.post("/",function(e,r){var t=e.body,d=t.group_id,i=t.period_id,o=t.user_id,s=t.gambar_selfie,a=t.date,u=t.location,n=t.status;db.query("INSERT INTO Attendance (group_id, period_id, user_id, gambar_selfie, date, location, status) VALUES (?, ?, ?, ?, ?, ?, ?)",[d,i,o,s,a,u,n],function(e,t){if(e)throw e;r.status(201).json({id:t.insertId,group_id:d,period_id:i,user_id:o,gambar_selfie:s,date:a,location:u,status:n})})}),router.put("/:id",function(e,r){var t=e.params.id,d=e.body,i=d.group_id,o=d.period_id,s=d.user_id,a=d.gambar_selfie,u=d.date,n=d.location,c=d.status;db.query("UPDATE Attendance SET group_id = ?, period_id = ?, user_id = ?, gambar_selfie = ?, date = ?, location = ?, status = ? WHERE attendance_id = ?",[i,o,s,a,u,n,c,t],function(e,t){if(e)throw e;r.json({message:"Attendance updated successfully"})})}),router.delete("/:id",function(e,r){var t=e.params.id;db.query("DELETE FROM Attendance WHERE attendance_id = ?",[t],function(e,t){if(e)throw e;r.json({message:"Attendance deleted successfully"})})}),module.exports=router;
//# sourceMappingURL=attendance.min.js.map
