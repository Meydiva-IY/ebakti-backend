{"version":3,"sources":["attendance.js"],"names":["express","require","router","Router","get","req","res","db","query","err","results","json","post","_req$body","body","group_id","period_id","user_id","gambar_selfie","date","location","status","result","insertId","id","params","message","module","exports"],"mappings":"aAAA,IAAMA,QAAUC,QAAQ,WAClBC,OAASF,QAAQG,SADjBH,GAAOC,QAAGA,gBAKhBC,OAAOE,IAAI,IAAK,SAACC,EAAKC,GAHhBC,GAAEC,MAAGP,2BAEX,SAAAQ,EAAAC,GAGQ,GAAID,EAAK,MAAMA,EACfH,EAAIK,KAAKD,OACZR,OAHDU,KAAA,IAAA,SAAAP,EAAAC,GAAA,IAAAO,EAMJR,EAAAS,KAAAC,EANIF,EAMJE,SAAAC,EANIH,EAMJG,UAAAC,EANIJ,EAMJI,QAAAC,EANIL,EAMJK,cAAAC,EANIN,EAMJM,KAAAC,EANIP,EAMJO,SAAAC,EANIR,EAMJQ,OACAnB,GAAOU,MAES,4HAFC,CAAAG,EAACV,EAAaY,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,SAAAZ,EAAAa,GAAA,GAAAb,EAAA,MACyDK,EAA5EC,EAAAA,OADmB,KAAAJ,KACnBI,CAAAA,GADmBO,EAAAC,SAAAR,SAAAA,EAAAC,UAAAA,EAAAC,QAAAA,EAAAC,cAAAA,EAAAC,KAAAA,EAAAC,SAAAA,EAAAC,OAAAA,QAAAnB,OACgCkB,IAAAA,OADhC,SAAAf,EAAAC,GACgCc,IADhCI,EAAAnB,EAAAoB,OAAAD,GACgCJ,EAC/Cf,EAAAS,KAAAC,EAD+CK,EAC/CL,SAAAC,EAD+CI,EAC/CJ,UAAAC,EAD+CG,EAC/CH,QAAAC,EAD+CE,EAC/CF,cAAAC,EAD+CC,EAC/CD,KAAAC,EAD+CA,EAC/CA,SAAAC,EAD+CD,EAC/CC,OAERd,GAAAC,MADU,gJACD,CAAMC,EAANO,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAG,GAAA,SAAAf,EAAAa,GACLD,GAAAA,EAAO,MAAKV,EAASL,EAAEgB,KAAOC,CAAAA,QAAb,wCAAoEJ,OAAAA,OAAAA,OAApE,SAAAd,EAAAC,GAAA,IAA0Ec,EAAAA,EAAAA,OAAAA,GAA1Eb,GAArBC,MAAyGa,iDAAzG,CAAAG,GAAA,SAAAf,EAAAa,GAFJ,GAAAb,EAAA,MAAAA,EAMJH,EAAAK,KAAA,CAAAe,QAAA,wCACiCC,OAAAC,QAAA1B","file":"attendance.min.js","sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst db = require('../config/db');\r\n\r\n// Get all attendance records\r\nrouter.get('/', (req, res) => {\r\n    db.query('SELECT * FROM Attendance', (err, results) => {\r\n        if (err) throw err;\r\n        res.json(results);\r\n    });\r\n});\r\n\r\n// Create a new attendance record\r\nrouter.post('/', (req, res) => {\r\n    const { group_id, period_id, user_id, gambar_selfie, date, location, status } = req.body;\r\n    const sql = 'INSERT INTO Attendance (group_id, period_id, user_id, gambar_selfie, date, location, status) VALUES (?, ?, ?, ?, ?, ?, ?)';\r\n    db.query(sql, [group_id, period_id, user_id, gambar_selfie, date, location, status], (err, result) => {\r\n        if (err) throw err;\r\n        res.status(201).json({ id: result.insertId, group_id, period_id, user_id, gambar_selfie, date, location, status });\r\n    });\r\n});\r\n\r\n// Update an attendance record\r\nrouter.put('/:id', (req, res) => {\r\n    const { id } = req.params;\r\n    const { group_id, period_id, user_id, gambar_selfie, date, location, status } = req.body;\r\n    const sql = 'UPDATE Attendance SET group_id = ?, period_id = ?, user_id = ?, gambar_selfie = ?, date = ?, location = ?, status = ? WHERE attendance_id = ?';\r\n    db.query(sql, [group_id, period_id, user_id, gambar_selfie, date, location, status, id], (err, result) => {\r\n        if (err) throw err;\r\n        res.json({ message: 'Attendance updated successfully' });\r\n    });\r\n});\r\n\r\n// Delete an attendance record\r\nrouter.delete('/:id', (req, res) => {\r\n    const { id } = req.params;\r\n    const sql = 'DELETE FROM Attendance WHERE attendance_id = ?';\r\n    db.query(sql, [id], (err, result) => {\r\n        if (err) throw err;\r\n        res.json({ message: 'Attendance deleted successfully' });\r\n    });\r\n});\r\n\r\nmodule.exports = router;"]}