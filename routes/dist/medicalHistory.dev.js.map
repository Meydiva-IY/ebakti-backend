{"version":3,"sources":["medicalHistory.js"],"names":["express","require","router","Router","db","get","req","res","query","err","results","json","post","body","user_id","disease_name","description","sql","result","status","id","insertId","put","params","message","module","exports"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AACA,IAAMC,EAAE,GAAGH,OAAO,CAAC,cAAD,CAAlB,C,CAEA;;;AACAC,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC1BH,EAAAA,EAAE,CAACI,KAAH,CAAS,8BAAT,EAAyC,UAACC,GAAD,EAAMC,OAAN,EAAkB;AACvD,QAAID,GAAJ,EAAS,MAAMA,GAAN;AACTF,IAAAA,GAAG,CAACI,IAAJ,CAASD,OAAT;AACH,GAHD;AAIH,CALD,E,CAOA;;AACAR,MAAM,CAACU,IAAP,CAAY,GAAZ,EAAiB,UAACN,GAAD,EAAMC,GAAN,EAAc;AAAA,kBACoBD,GAAG,CAACO,IADxB;AAAA,MACnBC,OADmB,aACnBA,OADmB;AAAA,MACVC,YADU,aACVA,YADU;AAAA,MACIC,WADJ,aACIA,WADJ;AAE3B,MAAMC,GAAG,GAAG,kFAAZ;AACAb,EAAAA,EAAE,CAACI,KAAH,CAASS,GAAT,EAAc,CAACH,OAAD,EAAUC,YAAV,EAAwBC,WAAxB,CAAd,EAAoD,UAACP,GAAD,EAAMS,MAAN,EAAiB;AACjE,QAAIT,GAAJ,EAAS,MAAMA,GAAN;AACTF,IAAAA,GAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBR,IAAhB,CAAqB;AAAES,MAAAA,EAAE,EAAEF,MAAM,CAACG,QAAb;AAAuBP,MAAAA,OAAO,EAAPA,OAAvB;AAAgCC,MAAAA,YAAY,EAAZA,YAAhC;AAA8CC,MAAAA,WAAW,EAAXA;AAA9C,KAArB;AACH,GAHD;AAIH,CAPD,E,CASA;;AACAd,MAAM,CAACoB,GAAP,CAAW,MAAX,EAAmB,UAAChB,GAAD,EAAMC,GAAN,EAAc;AAAA,MACrBa,EADqB,GACdd,GAAG,CAACiB,MADU,CACrBH,EADqB;AAAA,mBAEkBd,GAAG,CAACO,IAFtB;AAAA,MAErBC,OAFqB,cAErBA,OAFqB;AAAA,MAEZC,YAFY,cAEZA,YAFY;AAAA,MAEEC,WAFF,cAEEA,WAFF;AAG7B,MAAMC,GAAG,GAAG,uGAAZ;AACAb,EAAAA,EAAE,CAACI,KAAH,CAASS,GAAT,EAAc,CAACH,OAAD,EAAUC,YAAV,EAAwBC,WAAxB,EAAqCI,EAArC,CAAd,EAAwD,UAACX,GAAD,EAAMS,MAAN,EAAiB;AACrE,QAAIT,GAAJ,EAAS,MAAMA,GAAN;AACTF,IAAAA,GAAG,CAACI,IAAJ,CAAS;AAAEa,MAAAA,OAAO,EAAE;AAAX,KAAT;AACH,GAHD;AAIH,CARD,E,CAUA;;AACAtB,MAAM,UAAN,CAAc,MAAd,EAAsB,UAACI,GAAD,EAAMC,GAAN,EAAc;AAAA,MACxBa,EADwB,GACjBd,GAAG,CAACiB,MADa,CACxBH,EADwB;AAEhC,MAAMH,GAAG,GAAG,yDAAZ;AACAb,EAAAA,EAAE,CAACI,KAAH,CAASS,GAAT,EAAc,CAACG,EAAD,CAAd,EAAoB,UAACX,GAAD,EAAMS,MAAN,EAAiB;AACjC,QAAIT,GAAJ,EAAS,MAAMA,GAAN;AACTF,IAAAA,GAAG,CAACI,IAAJ,CAAS;AAAEa,MAAAA,OAAO,EAAE;AAAX,KAAT;AACH,GAHD;AAIH,CAPD;AASAC,MAAM,CAACC,OAAP,GAAiBxB,MAAjB","sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst db = require('../config/db');\r\n\r\n// Get all medical histories\r\nrouter.get('/', (req, res) => {\r\n    db.query('SELECT * FROM MedicalHistory', (err, results) => {\r\n        if (err) throw err;\r\n        res.json(results);\r\n    });\r\n});\r\n\r\n// Create a new medical history record\r\nrouter.post('/', (req, res) => {\r\n    const { user_id, disease_name, description } = req.body;\r\n    const sql = 'INSERT INTO MedicalHistory (user_id, disease_name, description) VALUES (?, ?, ?)';\r\n    db.query(sql, [user_id, disease_name, description], (err, result) => {\r\n        if (err) throw err;\r\n        res.status(201).json({ id: result.insertId, user_id, disease_name, description });\r\n    });\r\n});\r\n\r\n// Update a medical history record\r\nrouter.put('/:id', (req, res) => {\r\n    const { id } = req.params;\r\n    const { user_id, disease_name, description } = req.body;\r\n    const sql = 'UPDATE MedicalHistory SET user_id = ?, disease_name = ?, description = ? WHERE medical_history_id = ?';\r\n    db.query(sql, [user_id, disease_name, description, id], (err, result) => {\r\n        if (err) throw err;\r\n        res.json({ message: 'Medical history updated successfully' });\r\n    });\r\n});\r\n\r\n// Delete a medical history record\r\nrouter.delete('/:id', (req, res) => {\r\n    const { id } = req.params;\r\n    const sql = 'DELETE FROM MedicalHistory WHERE medical_history_id = ?';\r\n    db.query(sql, [id], (err, result) => {\r\n        if (err) throw err;\r\n        res.json({ message: 'Medical history deleted successfully' });\r\n    });\r\n});\r\n\r\nmodule.exports = router;"],"file":"medicalHistory.dev.js"}