{"version":3,"sources":["profile.js"],"names":["express","require","router","Router","get","req","res","db","query","err","results","json","post","_req$body","body","user_id","profile_picture","full_name","department","date_of_birth","gender","address","result","insertId","params","_req$body2","id","status","message","module","exports"],"mappings":"aAAA,IAAMA,QAAUC,QAAQ,WAClBC,OAASF,QAAQG,SADjBH,GAAOC,QAAGA,gBAKhBC,OAAOE,IAAI,IAAK,SAACC,EAAKC,GAHhBC,GAAEC,MAAGP,wBAEX,SAAAQ,EAAAC,GAGQ,GAAID,EAAK,MAAMA,EACfH,EAAIK,KAAKD,OACZR,OAHDU,KAAA,IAAA,SAAAP,EAAAC,GAAA,IAAAO,EAMJR,EAAAS,KAAAC,EANIF,EAMJE,QAAAC,EANIH,EAMJG,gBAAAC,EANIJ,EAMJI,UAAAC,EANIL,EAMJK,WAAAC,EANIN,EAMJM,cAAAC,EANIP,EAMJO,OAAAC,EANIR,EAMJQ,QACAnB,GAAOU,MAES,qIAFC,CAAAG,EAACV,EAAaY,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,SAAAZ,EAAAa,GAAA,GAAAb,EAAA,MACqEK,EAAxFC,EAAAA,OADmB,KAAAJ,KACnBI,CAAAA,GADmBO,EAAAC,SAAAR,QAAAA,EAAAC,gBAAAA,EAAAC,UAAAA,EAAAC,WAAAA,EAAAC,cAAAA,EAAAC,OAAAA,EAAAC,QAAAA,QAAAnB,OAC6CkB,IAAAA,OAD7C,SAAAf,EAC6Ce,GAD7C,IACqDC,EADrDhB,EAAAmB,OACqDH,GADrDI,EAEfpB,EAAAS,KAAAC,EAFeU,EAEfV,QAAAC,EAFeS,EAEfT,gBAAAC,EAFeQ,EAEfR,UAAAC,EAFeO,EAEfP,WAAAC,EAFeM,EAEfN,cAAAC,EAFeK,EAEfL,OAAAC,EAFeI,EAEfJ,QAERd,GAAAC,MADU,sJACD,CAAMC,EAANO,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAK,GAAA,SAAAjB,EAAAa,GACLK,GAAAA,EAAO,MAAKhB,EAASL,EAAEgB,KAAOC,CAAAA,QAAb,qCAAwEJ,OAAAA,OAAAA,OAAAA,SAAAA,EAAAA,GAAxE,IAA6FO,EAANN,EAAvFI,OAA6FE,GAA7FnB,GAArBC,MAAoHa,2CAApH,CAAAK,GAAA,SAAAjB,EAAAa,GAFJ,GAAAb,EAAA,MAAAA,EAMJH,EAAAK,KAAA,CAAAiB,QAAA,qCACiCC,OAAAC,QAAA5B","file":"profile.min.js","sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst db = require('../config/db');\r\n\r\n// Get all profiles\r\nrouter.get('/', (req, res) => {\r\n    db.query('SELECT * FROM Profile', (err, results) => {\r\n        if (err) throw err;\r\n        res.json(results);\r\n    });\r\n});\r\n\r\n// Create a new profile\r\nrouter.post('/', (req, res) => {\r\n    const { user_id, profile_picture, full_name, department, date_of_birth, gender, address } = req.body;\r\n    const sql = 'INSERT INTO Profile (user_id, profile_picture, full_name, department, date_of_birth, gender, address) VALUES (?, ?, ?, ?, ?, ?, ?)';\r\n    db.query(sql, [user_id, profile_picture, full_name, department, date_of_birth, gender, address], (err, result) => {\r\n        if (err) throw err;\r\n        res.status(201).json({ id: result.insertId, user_id, profile_picture, full_name, department, date_of_birth, gender, address });\r\n    });\r\n});\r\n\r\n// Update a profile\r\nrouter.put('/:id', (req, res) => {\r\n    const { id } = req.params;\r\n    const { user_id, profile_picture, full_name, department, date_of_birth, gender, address } = req.body;\r\n    const sql = 'UPDATE Profile SET user_id = ?, profile_picture = ?, full_name = ?, department = ?, date_of_birth = ?, gender = ?, address = ? WHERE profile_id = ?';\r\n    db.query(sql, [user_id, profile_picture, full_name, department, date_of_birth, gender, address, id], (err, result) => {\r\n        if (err) throw err;\r\n        res.json({ message: 'Profile updated successfully' });\r\n    });\r\n});\r\n\r\n// Delete a profile\r\nrouter.delete('/:id', (req, res) => {\r\n    const { id } = req.params;\r\n    const sql = 'DELETE FROM Profile WHERE profile_id = ?';\r\n    db.query(sql, [id], (err, result) => {\r\n        if (err) throw err;\r\n        res.json({ message: 'Profile deleted successfully' });\r\n    });\r\n});\r\n\r\nmodule.exports = router;"]}