{"version":3,"sources":["user.js"],"names":["express","require","router","Router","get","req","res","db","query","err","results","json","post","_req$body","body","role","username","password","nohp","result","status","id","insertId","sql","params","message","module","exports"],"mappings":"aAAA,IAAMA,QAAUC,QAAQ,WAClBC,OAASF,QAAQG,SADjBH,GAAOC,QAAGA,gBAKhBC,OAAOE,IAAI,IAAK,SAACC,EAAKC,GAHhBC,GAAEC,MAAGP,qBAEX,SAAAQ,EAAAC,GAGQ,GAAID,EAAK,MAAMA,EACfH,EAAIK,KAAKD,OACZR,OAHDU,KAAA,IAAA,SAAAP,EAAAC,GAAA,IAAAO,EAMJR,EAAAS,KAAAC,EANIF,EAMJE,KAAAC,EANIH,EAMJG,SAAAC,EANIJ,EAMJI,SAAAC,EANIL,EAMJK,KACAhB,GAAOU,MAES,wEAFC,CAAAG,EAAAC,EAAAC,EAAcC,GAAA,SAAAT,EAAAU,GAAA,GAAAV,EAAA,MACoBK,EAAvCC,EADmBK,OAAA,KACnBL,KADmB,CAAAM,GAAAF,EAAAG,SAAAP,KAAAA,EAAAC,SAAAA,EAAAE,KAAAA,QAG3BX,OAAGC,IAAMe,OAAMR,SAAAA,EAAMC,GAAUC,IAC3BI,EAAeZ,EAANe,OAATH,GAD2BJ,EAENZ,EAAAS,KAAjBM,EAFuBH,EAEvBG,KAAJJ,EAF2BC,EAE3BD,SAAqBC,EAFMA,EAENA,SAAAC,EAFMD,EAENC,KAAuBH,GAAAA,MAAX,mFAAZ,CAAAA,EAAAC,EAAAC,EAAAC,EAAAG,GAAA,SAAAZ,EAAAU,GAA6BH,GAAAA,EAAAA,MAAAA,EAAUE,EAAAA,KAAAA,CAAAA,QAAAA,mCAKpEhB,OAAM,OAAK,OAAQ,SAAAG,EAAAC,GAAMA,IACND,EAAImB,EAAXH,OAAOhB,GADcE,GAErBQ,MAFqB,qCAAA,CAAAM,GAErBN,SAAAA,EAFqBI,GAEfH,GAAAA,EAFe,MAAAP,EAELQ,EAAAA,KAFK,CAAAQ,QAELR,mCAGpBS,OAAAC,QAASzB","file":"user.min.js","sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst db = require('../config/db');\r\n\r\n// Get all users\r\nrouter.get('/', (req, res) => {\r\n    db.query('SELECT * FROM User', (err, results) => {\r\n        if (err) throw err;\r\n        res.json(results);\r\n    });\r\n});\r\n\r\n// Create a new user\r\nrouter.post('/', (req, res) => {\r\n    const { role, username, password, nohp } = req.body;\r\n    const sql = 'INSERT INTO User (role, username, password, nohp) VALUES (?, ?, ?, ?)';\r\n    db.query(sql, [role, username, password, nohp], (err, result) => {\r\n        if (err) throw err;\r\n        res.status(201).json({ id: result.insertId, role, username, nohp });\r\n    });\r\n});\r\n\r\n// Update a user\r\nrouter.put('/:id', (req, res) => {\r\n    const { id } = req.params;\r\n    const { role, username, password, nohp } = req.body;\r\n    const sql = 'UPDATE User SET role = ?, username = ?, password = ?, nohp = ? WHERE user_id = ?';\r\n    db.query(sql, [role, username, password, nohp, id], (err, result) => {\r\n        if (err) throw err;\r\n        res.json({ message: 'User  updated successfully' });\r\n    });\r\n});\r\n\r\n// Delete a user\r\nrouter.delete('/:id', (req, res) => {\r\n    const { id } = req.params;\r\n    const sql = 'DELETE FROM User WHERE user_id = ?';\r\n    db.query(sql, [id], (err, result) => {\r\n        if (err) throw err;\r\n        res.json({ message: 'User  deleted successfully' });\r\n    });\r\n});\r\n\r\nmodule.exports = router;"]}