"use strict";var express=require("express"),router=express.Router(),db=require("../config/db");router.get("/",function(e,i){db.query("SELECT * FROM ChallengeSubmission",function(e,s){if(e)throw e;i.json(s)})}),router.post("/",function(e,i){var s=e.body,u=s.challenge_id,r=s.user_id,t=s.score,o=s.clgfile_path,n=s.feedback,l=s.status;db.query("INSERT INTO ChallengeSubmission (challenge_id, user_id, score, clgfile_path, feedback, status) VALUES (?, ?, ?, ?, ?, ?)",[u,r,t,o,n,l],function(e,s){if(e)throw e;i.status(201).json({id:s.insertId,challenge_id:u,user_id:r,score:t,clgfile_path:o,feedback:n,status:l})})}),router.put("/:id",function(e,i){var s=e.params.id,u=e.body,r=u.challenge_id,t=u.user_id,o=u.score,n=u.clgfile_path,l=u.feedback,a=u.status;db.query("UPDATE ChallengeSubmission SET challenge_id = ?, user_id = ?, score = ?, clgfile_path = ?, feedback = ?, status = ? WHERE submission_id = ?",[r,t,o,n,l,a,s],function(e,s){if(e)throw e;i.json({message:"Challenge submission updated successfully"})})}),router.delete("/:id",function(e,i){var s=e.params.id;db.query("DELETE FROM ChallengeSubmission WHERE submission_id = ?",[s],function(e,s){if(e)throw e;i.json({message:"Challenge submission deleted successfully"})})}),module.exports=router;
//# sourceMappingURL=challengeSubmission.min.js.map
